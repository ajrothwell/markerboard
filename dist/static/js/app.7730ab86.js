(function(e){function t(t){for(var i,n,r=t[0],c=t[1],l=t[2],d=0,u=[];d<r.length;d++)n=r[d],s[n]&&u.push(s[n][0]),s[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,n=1;n<a.length;n++){var r=a[n];0!==s[r]&&(i=!1)}i&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var i={},n={app:0},s={app:0},o=[];function r(e){return c.p+"static/js/"+({mbmb_pvm_CyclomediaWidget:"mbmb_pvm_CyclomediaWidget",mbmp_pvm_CyclomediaRecordingCircle:"mbmp_pvm_CyclomediaRecordingCircle",mbmp_pvm_CyclomediaSvgViewConeMarker:"mbmp_pvm_CyclomediaSvgViewConeMarker",mbmp_pvm_PngMarker:"mbmp_pvm_PngMarker",mbmp_pvm_VectorMarker:"mbmp_pvm_VectorMarker",pvm_EsriTiledMapLayer:"pvm_EsriTiledMapLayer"}[e]||e)+"."+{mbmb_pvm_CyclomediaWidget:"e37d066c",mbmp_pvm_CyclomediaRecordingCircle:"38030bd5",mbmp_pvm_CyclomediaSvgViewConeMarker:"430a3b30",mbmp_pvm_PngMarker:"4f711d91",mbmp_pvm_VectorMarker:"6f02f236",pvm_EsriTiledMapLayer:"2e329902"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={mbmb_pvm_CyclomediaWidget:1,mbmp_pvm_CyclomediaSvgViewConeMarker:1,mbmp_pvm_VectorMarker:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise(function(t,a){for(var i="static/css/"+({mbmb_pvm_CyclomediaWidget:"mbmb_pvm_CyclomediaWidget",mbmp_pvm_CyclomediaRecordingCircle:"mbmp_pvm_CyclomediaRecordingCircle",mbmp_pvm_CyclomediaSvgViewConeMarker:"mbmp_pvm_CyclomediaSvgViewConeMarker",mbmp_pvm_PngMarker:"mbmp_pvm_PngMarker",mbmp_pvm_VectorMarker:"mbmp_pvm_VectorMarker",pvm_EsriTiledMapLayer:"pvm_EsriTiledMapLayer"}[e]||e)+"."+{mbmb_pvm_CyclomediaWidget:"206f83ce",mbmp_pvm_CyclomediaRecordingCircle:"31d6cfe0",mbmp_pvm_CyclomediaSvgViewConeMarker:"61dd27a4",mbmp_pvm_PngMarker:"31d6cfe0",mbmp_pvm_VectorMarker:"81b5c39f",pvm_EsriTiledMapLayer:"31d6cfe0"}[e]+".css",s=c.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===i||d===s))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){l=u[r],d=l.getAttribute("data-href");if(d===i||d===s)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete n[e],p.parentNode.removeChild(p),a(o)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){n[e]=0}));var i=s[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise(function(t,a){i=s[e]=[t,a]});t.push(i[2]=o);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(e),l=function(t){d.onerror=d.onload=null,clearTimeout(u);var a=s[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+n+")");o.type=i,o.request=n,a[1](o)}s[e]=void 0}};var u=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(a,i,function(t){return e[t]}.bind(null,i));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=d;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2366:function(e,t,a){},4105:function(e,t,a){},"42f5":function(e,t,a){"use strict";var i=a("9779"),n=a.n(i);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=a("bc53"),s=a("ad3d"),o=a("ecee"),r=a("552c"),c=a("d2c9"),l=a("8c5c"),d=a("16a6"),u=a("0882"),p=a("de5d"),m=a("e3e1"),f=a("6bfa");o["d"].add(r["faBars"],c["faEnvelope"],l["faFacebook"],d["faFilter"],u["faGlobe"],p["faPhone"],m["faTimes"],f["faTwitter"]);var h=o["d"],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-y medium-grid-frame",attrs:{id:"app"}},[a("PhilaModal",{directives:[{name:"show",rawName:"v-show",value:e.isModalOpen,expression:"isModalOpen"}],on:{close:e.closeModal}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"step-group"},[a("div",{staticClass:"step-label"},[e._v("\n          1\n        ")]),a("div",{staticClass:"step"},[a("div",{staticClass:"step-title"},[e._v("\n            Step 1\n          ")]),a("div",{staticClass:"step-content"})]),a("div",{staticClass:"step-label"},[e._v("\n          2\n        ")]),a("div",{staticClass:"step"},[a("div",{staticClass:"step-title"},[e._v("\n            Step 2\n          ")]),a("div",{staticClass:"step-content"})]),a("div",{staticClass:"step-label"},[e._v("\n          3\n        ")]),a("div",{staticClass:"step"},[a("div",{staticClass:"step-title"},[e._v("\n            Step 3\n          ")]),a("div",{staticClass:"step-content"})])])])]),a("PhilaHeader",{attrs:{"app-title":this.$config.app.title,"app-tag-line":this.$config.app.tagLine}},[a("div",{attrs:{slot:"mobile-menu"},slot:"mobile-menu"},[a("PhilaFooter",{on:{howToUseLink:function(t){return e.toggleModal()}}})],1)]),a("div",{staticClass:"cell medium-auto medium-cell-block-container main-content"},[a("div",{staticClass:"grid-x"},[a("LocationsPanel",{directives:[{name:"show",rawName:"v-show",value:e.isMapVisible||e.isLarge,expression:"isMapVisible || isLarge"}]}),a("MapPanel",{directives:[{name:"show",rawName:"v-show",value:!e.isMapVisible||e.isLarge,expression:"!isMapVisible || isLarge"}]},[this.shouldLoadCyclomediaWidget?a("cyclomedia-widget",{directives:[{name:"show",rawName:"v-show",value:e.cyclomediaActive,expression:"cyclomediaActive"}],attrs:{slot:"cycloWidget","screen-percent":"2"},slot:"cycloWidget"}):e._e()],1)],1)]),a("PhilaButton",{staticClass:"button toggle-map hide-for-medium",nativeOn:{click:function(t){return e.toggleMap(t)}}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")]),a("PhilaFooter",{directives:[{name:"show",rawName:"v-show",value:e.isLarge,expression:"isLarge"}],on:{howToUseLink:function(t){return e.toggleModal()}}})],1)},v=[],_=(a("6762"),a("2fdb"),a("cd1f")),b=a("7fd5"),y=(a("7650"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",[e._t("default",[e._v("Button text")])],2)}),C=[],S=(a("f5ec"),a("2877")),w={},M=Object(S["a"])(w,y,C,!1,null,"6a2b56a0",null),P=M.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"app-header cell shrink"},[a("div",{staticClass:"grid-x grid-padding-x grid-padding-y align-middle"},[a("div",{staticClass:"cell mobile-menu show-for-small-only small-2"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!e.isOpen,expression:"!isOpen"}],style:{color:"white"},attrs:{icon:"bars",size:"2x"},on:{click:e.toggleMenu}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],style:{color:"white"},attrs:{icon:"times",size:"2x"},on:{click:e.toggleMenu}})],1),a("div",{staticClass:"cell medium-auto small-21"},[a("div",{staticClass:"grid-x grid-padding-x align-middle"},[a("div",{staticClass:"cell shrink hide-for-small-only"},[a("a",{staticClass:"logo flex-child-auto",attrs:{href:e.appLogoLink}},[a("img",{staticClass:"app-logo",attrs:{src:e.appLogo,alt:e.appLogoAlt}})])]),e._m(0),a("div",{staticClass:"cell shrink"},[a("section",{staticClass:"title-container flex-child-auto"},[a("router-link",{staticClass:"app-title",attrs:{to:e.appLink}},[a("h1",{staticClass:"title"},[e._v("\n                "+e._s(e.appTitle)+"\n              ")]),a("h2",{staticClass:"h6 hide-for-small-only tagline"},[e._v("\n                "+e._s(e.appTagLine)+"\n              ")])])],1)]),a("div",{staticClass:"cell large-auto small-auto small-centered text-center"},[a("div",{staticClass:"search"},[e._t("search")],2)])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isOpen,expression:"!isOpen"}],staticClass:"stripe"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"mobile-menu-content-container show-for-small-only"},[a("div",{staticClass:"mobile-menu-content"},[a("a",{staticClass:"logo flex-child-auto",attrs:{href:e.appLogoLink}},[a("img",{staticClass:"app-logo",attrs:{src:e.appLogo,alt:e.appLogoAlt}})]),e._t("mobile-menu")],2)]),e._t("after-stripe")],2)},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cell shrink hide-for-small-only"},[a("div",{staticClass:"app-divide flex-child-auto"})])}],R=a("be6b"),L=a.n(R),O={props:{appLink:{type:String,default:"/"},appLogo:{type:String,default:L.a},appLogoAlt:{type:String,default:"City of Philadelphia"},appLogoLink:{type:String,default:"https://www.phila.gov"},appTagLine:{type:String,default:"App Tag Line"},appTitle:{type:String,default:"App Title"}},data:function(){return{dropdownData:{address:{text:"Address",data:null},keyword:{text:"Keyword",data:null}},isOpen:!1}},computed:{address:function(){var e;return this.$store.state.geocode.data?this.$store.state.geocode.data.properties&&(e=this.$store.state.geocode.data.properties.street_address):e="",e},keywords:function(){return this.$store.state.selectedKeywords}},watch:{address:function(e){this.dropdownData.address.data=e},keywords:function(e){this.dropdownData.keyword.data=e}},methods:{toggleMenu:function(){this.isOpen=!this.isOpen,this.toggleBodyClass("no-scroll")},toggleBodyClass:function(e){var t=document.body;return this.isOpen?t.classList.add(e):t.classList.remove(e)}}},k=O,E=(a("42f5"),Object(S["a"])(k,A,$,!1,null,null,null)),D=E.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"app-footer cell shrink"},[a("div",{staticClass:"grid-x align-middle"},[a("div",{staticClass:"cell"},[a("nav",[a("ul",{staticClass:"footer-nav"},[e._m(0),a("li",[a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$emit("howToUseLink")}}},[e._v("How to use")])]),a("li",[a("a",{attrs:{href:e.feedbackLink,target:"_blank"}},[e._v("Feedback")])])])])])])])},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("a",{attrs:{href:"https://www.phila.gov"}},[e._v("City of Philadelphia")])])}],T={props:{feedbackLink:{type:String,default:"https://www.phila.gov/feedback/"}}},V=T,U=(a("73bf"),Object(S["a"])(V,x,I,!1,null,null,null)),F=U.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"modal"}},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container-inner"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close modal"},on:{click:e.close}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1),e._t("header")],2),a("div",{staticClass:"modal-body"},[e._t("body")],2),a("div",{staticClass:"modal-footer"},[e._t("footer")],2)])]),a("div",{staticClass:"modal-bg",on:{click:e.close}})])])},N=[],B={name:"Modal",methods:{close:function(){this.$emit("close")}}},z=B,W=(a("f381"),Object(S["a"])(z,j,N,!1,null,null,null)),G=W.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cell medium-12 medium-cell-block-y locations-panel"},["success"===e.dataStatus?a("div",{staticClass:"location-container"},[0===e.currentData.length?a("div",{staticClass:"h3"},[a("p",[e._v("\n        We're sorry, there are no results for that search.\n        Adjust the filters you've selected and try again.\n      ")])]):e._e(),a("PropertyCard",{attrs:{title:"property card"}})],1):e._e()])},q=[],H=(a("28a5"),a("a481"),a("cebc")),Z=a("2f62"),K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Sale Information")]),a("span",[e._v("Address: ")]),a("span",[e._v(e._s(e.currentSelectedData.StreetAddress))]),a("br"),a("span",[e._v("Sale Type: ")]),a("span",[e._v(e._s(e.currentSelectedData.SaleType))]),a("br"),a("span",[e._v("Auction Date: ")]),a("span",[e._v(e._s(e.currentSelectedData.AuctionDate))]),a("br"),a("span",[e._v("Opening Bid: ")]),a("span",[e._v(e._s(e.currentSelectedData.OpeningBid))]),a("br"),a("span",[e._v("Status: ")]),a("span",[e._v(e._s(e.currentSelectedData.Status))]),a("br"),a("span",[e._v("Attorney: ")]),a("span",[e._v(e._s(e.currentSelectedData.Attorney))]),a("br"),a("span",[e._v("Book/Writ: ")]),a("span",[e._v(e._s(e.currentSelectedData.BooknWrit))]),a("br"),a("span",[e._v("Seller: ")]),a("span",[e._v(e._s(e.currentSelectedData.Seller))]),a("br"),a("h3",[e._v("Property Information")]),a("span",[e._v("Property Owner: ")]),a("span",[e._v(e._s(e.opaOwners))]),a("br"),a("span",[e._v("OPA #: ")]),a("span",[e._v(e._s(e.currentSelectedData.AssessmentID))]),a("br"),a("span",[e._v("Assessed Value: ")]),a("span",[e._v(e._s(e.opaData.market_value))]),a("br"),a("span",[e._v("Area: ")]),a("span",[e._v(e._s(e.opaData.total_area)+" ft")]),a("br"),a("span",[e._v("Description: ")]),a("span",[e._v(e._s(e.opaData.building_code_description))]),a("br"),a("span",[e._v("Zoning Description: ")]),a("span",[e._v(e._s(this.zoning))]),a("br")])},Y=[],J=a("75fc"),Q=(a("ac6a"),a("8615"),a("4cd6")),ee={ZONING_CODE_MAP:{"RSD-1":"Residential Single Family Detached-1","RSD-2":"Residential Single Family Detached-2","RSD-3":"Residential Single Family Detached-3","RSA-1":"Residential Single Family Attached-1","RSA-2":"Residential Single Family Attached-2","RSA-3":"Residential Single Family Attached-3","RSA-4":"Residential Single Family Attached-4","RSA-5":"Residential Single Family Attached-5","RTA-1":"Residential Two-Family Attached-1","RM-1":"Residential Multi-Family-1","RM-2":"Residential Multi-Family-2","RM-3":"Residential Multi-Family-3","RM-4":"Residential Multi-Family-4","RMX-1":"Residential Mixed-Use-1","RMX-2":"Residential Mixed-Use-2","RMX-3":"Residential (Center City) Mixed-Use-3","CA-1":"Auto-Oriented Commercial-1","CA-2":"Auto-Oriented Commercial-2","CMX-1":"Neighborhood Commercial Mixed-Use-1","CMX-2":"Neighborhood Commercial Mixed-Use-2","CMX-2.5":"Neighborhood Commercial Mixed-Use-2.5","CMX-3":"Community Commercial Mixed-Use","CMX-4":"Center City Commercial Mixed-Use","CMX-5":"Center City Core Commercial Mixed-Use","I-1":"Light Industrial","I-2":"Medium Industrial","I-3":"Heavy Industrial",IP:"Port Industrial",ICMX:"Industrial Commercial Mixed-Use",IRMX:"Industrial Residential Mixed-Use",SPENT:"Commercial Entertainment (Casinos)",SPAIR:"Airport",SPINS:"Institutional Development",SPSTA:"Stadium",SPPOA:"Recreation","SP-PO-A":"Recreation",SPPOP:"Recreation"},cleanDorAttribute:function(e){var t=e?String(e):"";return t=t.replace(/\s+/g,""),[null,"0"].indexOf(t)>-1?"":t},concatDorAddress:function(e,t){t=!!t;var a=["STDIR","STNAM","STDES","STDESSUF"],i=e.properties,n=this.cleanDorAttribute(i.HOUSE),s=this.cleanDorAttribute(i.STEX),o=this.cleanDorAttribute(i.SUF),r=n;r+=s?"-"+s:"",r+=o||"";var c=this.cleanDorAttribute(i.UNIT);c&&(c="# "+c);var l=a.map(function(e){return i[e]});return l=l.map(this.cleanDorAttribute),l=[r].concat(l),t&&(l=l.concat([c])),r=l.filter(Boolean).join(" "),""===r&&(r="Parcel has no address"),r},getVacancyText:function(e){var t=e.sources.vacantLand.data,a=e.sources.vacantBuilding.data;return 0===t.length&&0===a.length?"Not Likely Vacant":t.length>0?"Likely Vacant Land":a.length>0?"Likely Vacant Building":void 0}};console.log("in PropertyCard, helpers:",ee);var te={mixins:[Q["a"]],props:{title:{type:String,default:"Title"}},data:function(){return{locationOpen:!1}},computed:{servicesOffered:function(){return this.$props.item.services_offered.split(",")},selectedResources:function(){return this.$store.state.selectedResources},currentSelectedData:function(){return this.$store.state.currentSelectedData&&this.$store.state.currentSelectedData[0]||[]},geocodeProperties:function(){return this.$store.state.geocode.data&&this.$store.state.geocode.data.properties?this.$store.state.geocode.data.properties:{}},opaData:function(){return this.$store.state.sources.opa.data?this.$store.state.sources.opa.data:{}},zoning:function(){return ee.ZONING_CODE_MAP[this.geocodeProperties.zoning]},opaOwners:function(){var e;return e=this.geocodeProperties.opa_owners?this.geocodeProperties.opa_owners.join(","):"",e}},watch:{selectedResources:function(e){this.locationOpen||e.includes(this.$props.item._featureId)?!1===this.locationOpen?this.openLocation():this.locationOpen&&!e.includes(this.$props.item._featureId)&&(this.locationOpen=!1):this.locationOpen=!1}},mounted:function(){this.selectedResources.includes(this.item._featureId)&&(this.locationOpen=!0)},methods:{openLocation:function(){this.locationOpen=!0;var e=this.$el,t=this.isElementInViewport(e);t||e.scrollIntoView()},isElementInViewport:function(e){var t=e.getBoundingClientRect(),a={top:t.top>=108,left:t.left>=0,bottom:t.bottom<=(window.innerHeight||document.documentElement.clientHeight),right:t.right<=(window.innerWidth||document.documentElement.clientWidth)};return Object.values(a).every(function(e){return e})},expandLocation:function(){this.locationOpen=!this.locationOpen;var e=this.$props.item._featureId,t=Object(J["a"])(this.selectedResources),a=null;this.locationOpen?(t.push(e),a=e):t.splice(t.indexOf(e),1),this.$store.commit("setSelectedResources",t),this.$store.commit("setLatestSelectedResourceFromExpand",a)}}},ae=te,ie=(a("8098"),Object(S["a"])(ae,K,Y,!1,null,null,null)),ne=ie.exports,se={components:{PropertyCard:ne},computed:Object(H["a"])({},Object(Z["b"])(["pinSources"]),{currentData:function(){var e=this.$store.state.currentData;return e},currentDataList:function(){return this.currentData.map(function(e){return e._featureId})},dataStatus:function(){return this.$store.state.pinSources[this.$appType].status}}),methods:{getLocationsList:function(){var e=this.sources[this.$appType].data.rows;return e},parseAddress:function(e){var t=e.replace(/(Phila.+)/g,function(e){return"<div>".concat(e,"</div>")}).replace(/^\d+\s[A-z]+\s[A-z]+/g,function(e){return"<div>".concat(e,"</div>")}).replace(/,/,"");return t},parseServiceList:function(e){var t=e.split(",");return t}}},oe=se,re=(a("ecbc"),Object(S["a"])(oe,X,q,!1,null,null,null)),ce=re.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cell medium-12 medium-cell-block-y mb-panel mb-panel-map map-height"},[a("Map_",{class:{"mb-map-with-widget":this.$store.state.cyclomedia.active||this.$store.state.pictometry.active},attrs:{id:"map-tag",center:this.$store.state.map.center,zoom:this.$store.state.map.zoom,"zoom-control-position":"bottomright","min-zoom":11,"max-zoom":22},on:{"l-moveend":e.handleMapMove}},[e._l(this.$config.map.basemaps,function(e,t){return a("esri-tiled-map-layer",{key:t,attrs:{url:e.url}})}),e._l(this.$config.map.tiledLayers,function(e,t){return a("esri-tiled-map-layer",{key:t,attrs:{url:e.url,"z-index":e.zIndex}})}),e._l(e.currentMapData,function(t){return a("vector-marker",{key:t.key,attrs:{latlng:t.latlng,"marker-color":t.color,icon:t.icon,"-feature-id":t._featureId,data:{featureId:t._featureId}},on:{"l-click":e.handleMarkerClick}})}),e.cyclomediaActive?a("png-marker",{attrs:{icon:e.sitePath+"images/camera.png",latlng:e.cycloLatlng,"rotation-angle":e.cycloRotationAngle}}):e._e(),e.cyclomediaActive?a("svg-view-cone-marker",{attrs:{latlng:e.cycloLatlng,"rotation-angle":e.cycloRotationAngle,"h-fov":e.cycloHFov}}):e._e(),e._m(1),e._l(e.cyclomediaRecordings,function(t){return e.cyclomediaActive?a("cyclomedia-recording-circle",{key:t.imageId,attrs:{"image-id":t.imageId,latlng:[t.lat,t.lng],size:1.2,color:"#3388ff",weight:1},on:{"l-click":e.handleCyclomediaRecordingClick}}):e._e()})],2),e._t("cycloWidget")],2)},de=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cyclomedia-button",{attrs:{position:"topright",link:"cyclomedia","img-src":e.sitePath+"images/cyclomedia.png"},on:{click:e.handleCyclomediaButtonClick}})},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.shouldShowCyclomediaButton?e._m(0):e._e()],1)}],ue=(a("6cc5"),a("7093"),a("effb")),pe=a("f110"),me=a("6af7"),fe=a("4a0d"),he={name:"MapPanel",components:{Map_:ue["a"],EsriTiledMapLayer:function(){return a.e("pvm_EsriTiledMapLayer").then(a.bind(null,"5218"))},VectorMarker:function(){return a.e("mbmp_pvm_VectorMarker").then(a.bind(null,"38b8"))},PngMarker:function(){return a.e("mbmp_pvm_PngMarker").then(a.bind(null,"da65"))},CyclomediaRecordingCircle:function(){return a.e("mbmp_pvm_CyclomediaRecordingCircle").then(a.bind(null,"3105"))},SvgViewConeMarker:function(){return a.e("mbmp_pvm_CyclomediaSvgViewConeMarker").then(a.bind(null,"2683"))},CyclomediaButton:me["a"],CyclomediaRecordingsClient:fe["a"]},mixins:[pe["a"]],data:function(){var e={rows:[]};return e},computed:{selectedResources:function(){return this.$store.state.selectedResources},latestSelectedResourceFromExpand:function(){return this.$store.state.latestSelectedResourceFromExpand},currentData:function(){return this.$store.state.currentData},currentMapData:function(){for(var e=[],t=0,a=Object(J["a"])(this.currentData);t<a.length;t++){var i=a[t],n=void 0,s=void 0;this.selectedResources.includes(i._featureId)?(n="#2176d2",s=40):(n="purple",s=20),i["y-lat"]&&(i.latlng=[i["x-lat"],i["y-lat"]],i.color=n,i.icon={prefix:"fas",icon:"map-marker-alt",shadow:!1,size:s},e.push(i))}return e},geocodeStatus:function(){return this.$store.state.geocode.status},geocodeResult:function(){return this.$store.state.geocode.data||{}},geocodeGeom:function(){return this.geocodeResult.geometry},markersForAddress:function(){var e=[],t=this.geocodeGeom;if(t){var a=Object(J["a"])(t.coordinates).reverse(),i=this.geocodeResult.properties.street_address,n="#2176d2",s="geocode",o={prefix:"fas",icon:"map-marker-alt",shadow:!1,size:30},r={latlng:a,key:i,color:n,markerType:s,icon:o};e.push(r)}return e},cycloLatlng:function(){if(null!==this.$store.state.cyclomedia.orientation.xyz){var e=this.$store.state.cyclomedia.orientation.xyz;return[e[1],e[0]]}var t=this.$config.map.center;return t},cycloRotationAngle:function(){return 57.29577951307855*this.$store.state.cyclomedia.orientation.yaw},cycloHFov:function(){return this.$store.state.cyclomedia.orientation.hFov},shouldShowCyclomediaButton:function(){return this.$config.cyclomedia.enabled&&!this.isMobileOrTablet},picOrCycloActive:function(){return!(!this.cyclomediaActive&&!this.pictometryActive)},sitePath:function(){return Object({NODE_ENV:"production",VUE_APP_BASE_URL:"http://localhost:8080/",VUE_APP_CLI_UI_URL:"",VUE_APP_CYCLOMEDIA_API_KEY:"GfElS3oRuroNivgtibsZqDkpCvItyPUNuv0NmXglen8puXoJanEVarsZyns9ynkJ",VUE_APP_CYCLOMEDIA_PASSWORD:"mapscyc01",VUE_APP_CYCLOMEDIA_USERNAME:"maps@phila.gov",VUE_APP_GATEKEEPER_KEY:"82fe014b6575b8c38b44235580bc8b11",BASE_URL:""}).VUE_APP_PUBLICPATH?window.location.origin+Object({NODE_ENV:"production",VUE_APP_BASE_URL:"http://localhost:8080/",VUE_APP_CLI_UI_URL:"",VUE_APP_CYCLOMEDIA_API_KEY:"GfElS3oRuroNivgtibsZqDkpCvItyPUNuv0NmXglen8puXoJanEVarsZyns9ynkJ",VUE_APP_CYCLOMEDIA_PASSWORD:"mapscyc01",VUE_APP_CYCLOMEDIA_USERNAME:"maps@phila.gov",VUE_APP_GATEKEEPER_KEY:"82fe014b6575b8c38b44235580bc8b11",BASE_URL:""}).VUE_APP_PUBLICPATH:""}},watch:{latestSelectedResourceFromExpand:function(e){if(e){var t=this.$store.state.sources[this.$appType].data.rows,a=t.filter(function(t){return t._featureId===e}),i=19;this.$config.map.geocodeZoom&&(i=this.$config.map.geocodeZoom);var n=this.$store.state.map.map;n.setView([a[0].lat,a[0].lon],i)}},picOrCycloActive:function(e){var t=this;this.$nextTick(function(){t.$store.state.map.map.invalidateSize()})}},created:function(){var e=this.$config.cyclomedia||{};e.enabled&&(this.$cyclomediaRecordingsClient=new fe["a"](this.$config.cyclomedia.recordingsUrl,this.$config.cyclomedia.username,this.$config.cyclomedia.password,4326))},mounted:function(){window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleMarkerClick:function(e){var t=e.target,a=t.options.data.featureId,i=Object(J["a"])(this.selectedResources);i.includes(a)?i.splice(i.indexOf(a),1):this.$config.selectedMarkers&&1===this.$config.selectedMarkers.max?i=[a]:i.push(a),this.$store.commit("setSelectedResources",i)},handleResize:function(e){this.$store.state.map.map.invalidateSize()},handleMapMove:function(e){var t=this.$store.state.map.map,a=this.$config.pictometry||{},i=t.getCenter(),n=i.lat,s=i.lng,o=[s,n];if(a.enabled){this.$store.commit("setPictometryMapCenter",o);var r=t.getZoom();this.$store.commit("setPictometryMapZoom",r)}var c=this.$config.cyclomedia||{};c.enabled&&(this.updateCyclomediaRecordings(),this.$store.commit("setCyclomediaLatLngFromMap",[n,s]))}}},ge=he,ve=(a("9aba"),Object(S["a"])(ge,le,de,!1,null,null,null)),_e=ve.exports,be={name:"App",components:{PhilaButton:P,PhilaHeader:D,PhilaFooter:F,PhilaModal:G,LocationsPanel:ce,MapPanel:_e,CyclomediaWidget:function(){return a.e("mbmb_pvm_CyclomediaWidget").then(a.bind(null,"cf49"))}},data:function(){return{isMapVisible:!0,isModalOpen:!1,isLarge:!0,buffer:null,buttonText:"Toggle map"}},computed:{geocodeStatus:function(){return this.$store.state.geocode.status},geocodeResult:function(){return this.$store.state.geocode.data||{}},geocodeGeom:function(){return this.geocodeResult.geometry},bufferList:function(){return this.$store.state.bufferList},selectedKeywords:function(){return this.$store.state.selectedKeywords},selectedServices:function(){return this.$store.state.selectedServices},dataStatus:function(){return this.$store.state.pinSources[this.$appType].status},database:function(){return this.$store.state.pinSources[this.$appType].data},shouldLoadCyclomediaWidget:function(){return this.$config.cyclomedia.enabled&&!this.isMobileOrTablet},cyclomediaActive:function(){return this.$store.state.cyclomedia.active},cycloLatlng:function(){if(null!==this.$store.state.cyclomedia.orientation.xyz){var e=this.$store.state.cyclomedia.orientation.xyz;return[e[1],e[0]]}var t=this.$config.map.center;return t},cycloRotationAngle:function(){return 57.29577951307855*this.$store.state.cyclomedia.orientation.yaw},cycloHFov:function(){return this.$store.state.cyclomedia.orientation.hFov},selectedResources:function(){return this.$store.state.selectedResources}},watch:{geocodeStatus:function(e){"success"===e?this.runBuffer():null===e&&(this.$data.buffer=null)},selectedResources:function(e){console.log("watch selectedResources is firing"),this.getSelectedData(e)},dataStatus:function(e){"success"===e&&this.filterPoints()}},mounted:function(){console.log("in App.vue mounted, this.$config:",this.$config),this.$config.pinSources&&this.$controller.dataManager.fetchData("pins"),this.$controller.appDidLoad(),this.onResize()},created:function(){window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{init:function(){console.log("in App.vue mounted, this.$config:",this.$config),this.$config.pinSources&&this.$controller.dataManager.fetchData("pins"),this.onResize()},runBuffer:function(){var e=Object(_["i"])(this.geocodeGeom.coordinates),t=Object(b["a"])(e,1,{units:"miles"});this.$data.buffer=t},filterPoints:function(){console.log("App.vue filterPoints is running");var e=this.database.slice(0,100);this.$store.commit("setCurrentData",e)},toggleMap:function(){window.innerWidth>749?this.$data.isMapVisible=!0:this.$data.isMapVisible=!this.$data.isMapVisible,this.$data.buttonText=this.$data.isMapVisible?"Toggle map":"Toggle resource list"},toggleModal:function(){this.isModalOpen=!this.isModalOpen,this.toggleBodyClass("no-scroll")},showModal:function(){this.isModalOpen=!0,this.toggleBodyClass("no-scroll")},closeModal:function(){this.isModalOpen=!1,this.toggleBodyClass("no-scroll")},toggleBodyClass:function(e){var t=document.body;return this.isOpen?t.classList.add(e):t.classList.remove(e)},onResize:function(){window.innerWidth>749?(this.$data.isMapVisible=!0,this.$data.isLarge=!0):this.$data.isLarge=!1},getSelectedData:function(e){console.log("getSelectedData is running, selectedResources:",e);var t,a=this.$store.state.currentData;t=a.filter(function(t){return e.includes(t._featureId)}),this.$store.commit("setCurrentSelectedData",t),this.$controller.handleSearchFormSubmit(t[0].StreetAddress,"Address")}}},ye=be,Ce=(a("5c0b"),Object(S["a"])(ye,g,v,!1,null,null,null)),Se=Ce.exports,we=a("8c4f"),Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"})},Pe=[],Ae={name:"Home",components:{}},$e=Ae,Re=Object(S["a"])($e,Me,Pe,!1,null,null,null),Le=Re.exports;i["a"].use(we["a"]);var Oe=new we["a"]({routes:[{path:"/",name:"home",component:Le}]}),ke=a("00b2"),Ee=a("bded"),De=a("472f"),xe=a("bd86"),Ie=(a("456d"),a("7618"));function Te(e){return e&&"object"===Object(Ie["a"])(e)&&!Array.isArray(e)&&null!==e}function Ve(e,t){var a=Object.assign({},e);return Te(e)&&Te(t)&&Object.keys(t).forEach(function(i){Te(t[i])&&i in e?a[i]=Ve(e[i],t[i]):Object.assign(a,Object(xe["a"])({},i,t[i]))}),a}function Ue(e){var t=ke["a"].createSources(e),a=ke["a"].createPinSources(e),i=ke["a"].createParcels(e),n={state:{sources:t,pinSources:a,parcels:i,map:{center:[-75.163471,39.953338],zoom:12},bufferList:null,currentData:[],currentSelectedData:null,selectedResources:[],latestSelectedResourceFromExpand:null},mutations:{setBufferList:function(e,t){e.bufferList=t},setCurrentData:function(e,t){e.currentData=t},setSelectedResources:function(e,t){e.selectedResources=t},setLatestSelectedResourceFromExpand:function(e,t){e.latestSelectedResourceFromExpand=t},setCurrentSelectedData:function(e,t){e.currentSelectedData=t}},actions:{}},s=Ve(De["a"],ke["a"].store);return s=Ve(s,Ee["a"]),s=Ve(s,n),new Z["a"].Store({state:s.state,getters:s.getters,mutations:s.mutations})}i["a"].use(Z["a"]);var Fe=Ue,je=function(e,t){e.mixin({created:function(){this.$config=t}})},Ne={id:"sheriffSales",type:"http-get",dependent:"none",resettable:!1,url:"https://cdn.jsdelivr.net/gh/ajrothwell/testdata/data.json",options:{params:{},success:function(e){return e.beaches}}},Be={id:"opa",type:"http-get",url:"https://data.phila.gov/resource/w7rb-qrn8.json",options:{params:{parcel_number:function(e){return e.properties.opa_account_num}},success:function(e){return e[0]}}},ze={pinSources:{sheriffSales:Ne},router:{enabled:!1},selectedMarkers:{max:1},dataSources:{opa:Be},app:{title:"Sheriff Sale Properties",tagLine:"Find properties for sale"},geocoder:{url:function(e){var t=encodeURIComponent(e);return"//api.phila.gov/ais/v1/search/".concat(t)},params:{gatekeeperKey:"82fe014b6575b8c38b44235580bc8b11",include_units:!0}},parcels:{pwd:{multipleAllowed:!1,geocodeFailAttemptParcel:null,clearStateOnError:!1,wipeOutOtherParcelsOnReverseGeocodeOnly:!0,geocodeField:"PARCELID",parcelIdInGeocoder:"pwd_parcel_id",getByLatLngIfIdFails:!1},dor:{multipleAllowed:!0,geocodeFailAttemptParcel:"pwd",clearStateOnError:!0,wipeOutOtherParcelsOnReverseGeocodeOnly:!1,geocodeField:"MAPREG",parcelIdInGeocoder:"dor_parcel_id",getByLatLngIfIdFails:!0}},cyclomedia:{enabled:!0,measurementAllowed:!1,popoutAble:!0,recordingsUrl:"https://atlas.cyclomedia.com/Recordings/wfs",username:"maps@phila.gov",password:"mapscyc01",apiKey:"GfElS3oRuroNivgtibsZqDkpCvItyPUNuv0NmXglen8puXoJanEVarsZyns9ynkJ"},map:{center:[-75.163471,39.953338],zoom:12,geocodeZoom:15,basemaps:{pwd:{url:"//tiles.arcgis.com/tiles/fLeGjb7u4uXqeF9q/arcgis/rest/services/CityBasemap/MapServer",tiledLayers:["cityBasemapLabels"],type:"featuremap",attribution:"Parcels: Philadelphia Water"}},tiledLayers:{cityBasemapLabels:{url:"//tiles.arcgis.com/tiles/fLeGjb7u4uXqeF9q/arcgis/rest/services/CityBasemap_Labels/MapServer",zIndex:"3"}},featureLayers:{dorParcels:{url:"//services.arcgis.com/fLeGjb7u4uXqeF9q/ArcGIS/rest/services/DOR_Parcel/FeatureServer/0"},pwdParcels:{url:"//services.arcgis.com/fLeGjb7u4uXqeF9q/ArcGIS/rest/services/PWD_PARCELS/FeatureServer/0"}}}},We={},Ge=Ve(ze,We),Xe=Fe(Ge);i["a"].use(n["a"],{config:Ge,store:Xe}),i["a"].use(je,Ge),i["a"].use(h),i["a"].component("font-awesome-icon",s["a"]),i["a"].config.productionTip=!1,i["a"].prototype.$appType="sheriffSales",new i["a"]({router:Oe,store:Xe,render:function(e){return e(Se)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var i=a("5e27"),n=a.n(i);n.a},"5e27":function(e,t,a){},"73bf":function(e,t,a){"use strict";var i=a("dc62"),n=a.n(i);n.a},8098:function(e,t,a){"use strict";var i=a("2366"),n=a.n(i);n.a},9779:function(e,t,a){},"9aba":function(e,t,a){"use strict";var i=a("a851"),n=a.n(i);n.a},a851:function(e,t,a){},be6b:function(e,t,a){e.exports=a.p+"static/img/city-of-philadelphia-logo.09d4440b.png"},cba0:function(e,t,a){},d020:function(e,t,a){},dc62:function(e,t,a){},ecbc:function(e,t,a){"use strict";var i=a("d020"),n=a.n(i);n.a},f381:function(e,t,a){"use strict";var i=a("cba0"),n=a.n(i);n.a},f5ec:function(e,t,a){"use strict";var i=a("4105"),n=a.n(i);n.a}});
//# sourceMappingURL=app.7730ab86.js.map